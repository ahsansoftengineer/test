{"version":3,"file":"src_app_feature_transaction_transaction_module_ts.js","mappings":"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","sources":["./src/app/feature/transaction/trans-add/trans-add.component.ts","./src/app/feature/transaction/trans-add/trans-add.component.html","./src/app/feature/transaction/trans-add/trans-dialog.component.ts","./src/app/feature/transaction/trans-add/trans-subscription.component.ts","./src/app/feature/transaction/trans-add/trans-xreceiptarray.component.ts","./src/app/feature/transaction/trans-add/trans-zbase.component.ts","./src/app/feature/transaction/trans-list/trans-list.component.ts","./src/app/feature/transaction/trans-list/trans-list.component.html","./src/app/feature/transaction/transaction-routing.module.ts","./src/app/feature/transaction/transaction.component.ts","./src/app/feature/transaction/transaction.module.ts","./src/app/model/transaction/cash.form.ts","./src/app/model/transaction/cheque.form.ts","./src/app/model/transaction/deposit.form.ts","./src/app/model/transaction/donor-additional.form.ts","./src/app/model/transaction/enum.ts","./src/app/model/transaction/full.form.ts","./src/app/model/transaction/hierarchy.form.ts","./src/app/model/transaction/material.form.ts"],"sourcesContent":["import { AfterViewInit, Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { URLz } from 'src/app/enums/url.enum';\r\nimport { DonorGSBForm } from 'src/app/model/donor/donor-gsb.form';\r\nimport { FullTransactionForm, Transaction } from 'src/app/model/transaction/full.form';\r\nimport { environment } from 'src/environments/environment';\r\nimport { InfoComponent } from '../../donor/info/info.component';\r\nimport { GSBComponent } from '../../donor/gsb/gsb.component';\r\nimport { FullBasicDonorForm } from 'src/app/model/donor/full-basic-donor.form';\r\nimport { FullGSBDonorForm } from 'src/app/model/donor/full-donor-gsb.form';\r\nimport { TransDialogComponent } from './trans-dialog.component';\r\n\r\n@Component({\r\n  selector: 'di-component-name-here',\r\n  templateUrl: './trans-add.component.html',\r\n  styleUrls: ['./trans-add.component.css'],\r\n  providers: [\r\n    FullTransactionForm,\r\n    // For Child Components\r\n    FullBasicDonorForm,\r\n    FullGSBDonorForm,\r\n  ]\r\n})\r\n// Typescript does not support Partial Class Concept and it will be able to do this\r\n// in future\r\nexport class TransAddComponent extends TransDialogComponent implements OnInit, AfterViewInit {\r\n  ngOnInit() {\r\n    super.continueProcess = this.continueProcess\r\n    super.ngOnInit();\r\n    this.routerStrategy();\r\n    this.systemSubscription();\r\n    this.userForDonorSubscription();\r\n  }\r\n  ngAfterViewInit(): void {\r\n    if (this._activeId == null) this.checkBatchDialog();\r\n    else this.continueProcess();\r\n  }\r\n  _onSubmity() {\r\n    super._onSubmity({\r\n      body: (ps) => {\r\n        if (ps._activeId) this._fs._form.addControl('id', new FormControl(this._activeId));\r\n        ps.param.body = this._fs._form.getRawValue();\r\n        const receipt_details = this.receiptDetails.value\r\n        const newArray = [];\r\n        receipt_details.forEach((receipt) => {\r\n          if (!this.emptyCheck(receipt?.row_id)) {\r\n            newArray.push(receipt);\r\n          }\r\n        });\r\n        ps.param.body.receipt_details = newArray;\r\n      },\r\n       confirmation: this.confirmation,\r\n      next: (ps, res) => {\r\n        const id = res.data.id\r\n        const heading = this._activeId ? 'Updated' : 'Created'\r\n        const message = res?.message\r\n        const receipt_no = res.data.receipt_no;\r\n        this.confirmationDialog(id, heading, message, receipt_no)\r\n      }\r\n    })\r\n  }\r\n  // Here Function Hoisting is mandatory b/c Parent Class is calling this function\r\n  continueProcess = () => {\r\n    const h = this._ss.permission_data_local\r\n    // TRANSACTION UPDATE CASE\r\n    if (this._activeId != null && Number(this._activeId) > 0) {\r\n      this.loadTemplate = false\r\n      this.patchData();\r\n    }\r\n    // CASE HANDLE BY STATES GUARDS\r\n    // LOCAL STORAGE SAVED || (SINGLE HIERARCHY  && OU PREFIX STATUS = OK)\r\n    else if (h) {\r\n      this.patchHierarchy()\r\n      this.loadTemplate = this._ss.permission_data_local_status  = true\r\n      // this.userForDonorSubscription();\r\n    }\r\n    // MUTIPLE HIERARCHY || DEALING BY DIALOG BOX\r\n    else if (this._ss.hierarchy.status){\r\n      this.hierarchyDialog()\r\n    }\r\n    // SERVER IS NOT AUTHORIZING FOR SUCH USER\r\n    // SINGLE HIERARCHY BUT OU PREFIX NOT SET\r\n    else if (!this._ss.hierarchy.status && !this._ss.hierarchy.ou_prefix_status){\r\n      this._vs._toastr_error('Operating Unit', 'Please create prefix for selected OU')\r\n      this.loadTemplate = false;\r\n      localStorage.removeItem('permission_data_local');\r\n      this._ss.permission_data_local = null;\r\n      this._ss.permission_data_local_status = false;\r\n    }\r\n\r\n  }\r\n  patchData() {\r\n    this._http\r\n      .get({\r\n        url: environment.TRANSACTION,\r\n        endpoint: URLz.TRANSACTION,\r\n        resource: this._activeId,\r\n        query: {\r\n          receipt_type: this.receipt_type\r\n        }\r\n      }).subscribe((res: any) => {\r\n\r\n        const data: Transaction = (this.data = res.data.row);\r\n\r\n        // Transaction Top Properties\r\n        this.receipt_number = data.receipt_number;\r\n        this._fs._form.patchValue({\r\n          id: data.id,\r\n          currency_id: data.currency_id,\r\n          event_id: data.event_id,\r\n          is_advance: data.is_advance,\r\n          receipt_type: data.receipt_type,\r\n          hierarchy: data.hierarchy,\r\n        });\r\n        if(data?.hierarchy){\r\n          this._http.org_id = data.hierarchy.organisation_id\r\n          this._http.sys_id = data.hierarchy.system_id\r\n        }\r\n        this.is_advance = data.is_advance;\r\n        if (!data?.hierarchy?.dco) {\r\n          const group = this._fs._form.get('hierarchy') as FormGroup;\r\n          group.removeControl('dco');\r\n        }\r\n        this._fs._form.addControl('id', new FormControl(data.id));\r\n        // Transaction Donor\r\n        this.patchDonor(data);\r\n        this.fullTransactionForm.patchReceiptDetail(\r\n          data.receipt_details,\r\n          this.receipt_type, true\r\n        );\r\n        this.loadTemplate = true;\r\n      });\r\n  }\r\n  patchDonor(data: Transaction) {\r\n    const donor = this._fs._form.get('donor') as FormGroup;\r\n    const additional_info = this._fs._form.get('additional_info') as FormGroup;\r\n    const donorGSBForm = new DonorGSBForm(this.injector);\r\n    const infoComponent = new InfoComponent(this.injector)\r\n    const gSBComponent = new GSBComponent(this.injector)\r\n    donor?.addControl('id', new FormControl(this._activeId));\r\n    if (!data?.gsb && data?.donor) {\r\n      this._fs._form.patchValue({\r\n        additional_info: data.additional_info,\r\n        is_advance: data.is_advance,\r\n      });\r\n      infoComponent.fillData(data);\r\n    } else {\r\n      if (!this._activeId) {\r\n        const currentMobile = donor.get('mobile').value;\r\n        donor.reset();\r\n        additional_info.reset();\r\n        donor.get('mobile').patchValue(currentMobile);\r\n      }\r\n    }\r\n    if (data?.is_advance === 1 && data?.gsb) {\r\n      this._fs._form.addControl(\r\n        'gsb',\r\n        this._fs._fb.group({ ...donorGSBForm.initForm().controls })\r\n      );\r\n      gSBComponent.fillData(data);\r\n    }\r\n  }\r\n}\r\n","<div class=\"row\" *ngIf=\"loadTemplate && this._fs._form\">\r\n  <div class=\"col-sm-12 col-lg-12\">\r\n    <div class=\"card card__styling\">\r\n      <div class=\"card-body custom__card__body__styling \">\r\n        <h2 class=\"card-title mb-0\">\r\n          {{ _component | translate}}\r\n          <b class=\"float-right\">\r\n            {{receipt_number}}\r\n          </b>\r\n          <button mat-raised-button type=\"button\" (click)=\"hierarchyDialog()\"\r\n            *ngIf=\"!_activeId && _ss?.hierarchy?.status\"\r\n            [ngClass]=\"{'eng__font': _ss.lng === 'en', 'urdu__font' : _ss.lng === 'ur' }\"\r\n            class=\"btn btn-info custon__add__btns__class float-right\">{{'Change Hierarchy' | translate}}</button>\r\n        </h2>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <form [formGroup]=\"_fs._form\" autocomplete=\"off\" class=\"row\">\r\n          <div class=\"card-body py-0\">\r\n            <!-- DONOR BASIC INFO -->\r\n            <fieldset class=\"adv-field-set\">\r\n              <legend class=\"adv-legend-one\">\r\n                {{'Donor Basic Info' | translate}}\r\n              </legend>\r\n              <donor-info [transDisabled]=\"_fhs._hasVal('id') || _fhs._hasVal('id', _fhs._getGroup('donor'))\"\r\n              ></donor-info>\r\n            </fieldset>\r\n            <!-- DONOR ADDITIONAL INFO-->\r\n            <fieldset class=\"adv-field-set mt-4\">\r\n              <legend class=\"adv-legend-one\">\r\n                {{'Donor Additional Info'|translate}}\r\n              </legend>\r\n              <div class=\"row\" formGroupName=\"additional_info\">\r\n                <di-txt field=\"email\" lbl=\"Email\"\r\n                  [disabled]=\"_fhs._hasVal('id') || _fhs._hasVal('id', _fhs._getGroup('donor'))\" [req]='false'\r\n                  groupName=\"additional_info\">\r\n                </di-txt>\r\n                <di-dd field='gender' lbl=\"Gender\" groupName='additional_info'\r\n                  [disabled]=\"_fhs._hasVal('id') || _fhs._hasVal('id', _fhs._getGroup('donor'))\" [load]='false'\r\n                  [req]='false' [prelist]=\"_ss.GENDER\">\r\n                </di-dd>\r\n                <di-txt field=\"address\" lbl=\"Address\"\r\n                  [disabled]=\"_fhs._hasVal('id') || _fhs._hasVal('id', _fhs._getGroup('donor'))\" [req]='false'\r\n                  groupName=\"additional_info\">\r\n                </di-txt>\r\n                <di-txt field=\"displayName\" lbl=\"Display Name\" [req]='false'\r\n                  [disabled]=\"_ss?.hierarchy?.display_name_status\" groupName=\"additional_info\">\r\n                </di-txt>\r\n                <di-cell [disabled]=\"_fhs._hasVal('id')\" field=\"careOf\" lbl=\"Care Of\" [req]='false' groupName='additional_info'>\r\n                </di-cell>\r\n                <di-txt [disabled]=\"_fhs._hasVal('id')\" field=\"careOfName\" lbl=\"Care Of Name\" [req]='false' groupName=\"additional_info\">\r\n                </di-txt>\r\n                <di-txt [disabled]=\"_fhs._hasVal('id')\" field=\"mr\" lbl=\"MR #\" [req]='false' groupName=\"additional_info\">\r\n                </di-txt>\r\n              </div>\r\n            </fieldset>\r\n            <!-- DONOR GSB -->\r\n            <fieldset class=\"adv-field-set mt-4\"\r\n            *ngIf=\"is_advance === 1 && receipt_type != RECEIPT_TYPEZ.MATERIAL\">\r\n              <legend class=\"adv-legend-one\">\r\n                {{'Donor GSB Info'| translate}}\r\n              </legend>\r\n              <donor-gsb></donor-gsb>\r\n            </fieldset>\r\n            <!-- TRANSACTION -->\r\n            <fieldset class=\"adv-field-set mt-4\">\r\n              <legend class=\"adv-legend-one\">\r\n                {{'Receipt Details'| translate}}\r\n              </legend>\r\n              <div class=\"row\">\r\n                <di-ac-off\r\n                  field='currency_id'\r\n                  lbl=\"Currency\"\r\n                  [param]=\"{\r\n                    query: {\r\n                      parent_id: _fs._form?.get('hierarchy.le')?.value\r\n                    }\r\n                  }\"\r\n                  [parentFC]=\"_fs._form?.get('hierarchy.le')\"\r\n                  [both]=\"true\"\r\n                  [url]=\"URLz.CURRENCY\"\r\n                  [disabled]=\"_fhs._hasVal('id')\"\r\n                  [length]='0'\r\n                  (changeEvent)=\"handleCurrencyChange($event)\"\r\n                  *ngIf=\"receipt_type != RECEIPT_TYPEZ.MATERIAL\"\r\n                ></di-ac-off>\r\n\r\n                <di-ac-off\r\n                  field='event_id'\r\n                  lbl=\"Cost Centers (Events)\"\r\n                  [url]=\"URLz.COST_CENTER\"\r\n                  [disabled]=\"_fhs._hasVal('id')\"\r\n                  [req]='false'\r\n                ></di-ac-off>\r\n                <!-- Cheque | Cheque Date -->\r\n                <di-date field=\"transaction_receipt_date\" lbl=\"Receipt Date\"\r\n                *ngIf=\"_fhs._has('transaction_receipt_date', item) && !_activeId &&\r\n                _ss?.permission_data_local?.display_receipt_date\r\n                \"\r\n                [min]=\"_ss?.permission_data_local?.transaction_receipt_date\"\r\n                [max]=\"_fhs._dateOnly()\"\r\n                ></di-date>\r\n                <!-- Transaction | CASH - CHEQUE - DEPOSIT - MATERIAL -->\r\n                <!-- style=\"border-radius: 5px; margin-bottom: 5px;\" -->\r\n                      <!-- [ngStyle]=\"{'background-color': i % 2 == 0 ? 'antiquewhite' : 'none'} -->\r\n                <div class=\"col-md-12\" *ngIf=\"_fhs._has('receipt_details')\">\r\n                  <div formArrayName=\"receipt_details\">\r\n                    <div class=\"row mb-4\" [formGroupName]=\"i\"\r\n                      *ngFor=\"let item of receiptDetails?.controls; let i = index\">\r\n                      <div class=\"col-md-12 mb-5\" *ngIf=\"i > 0\" style=\"border-top: 1px solid rgb(153, 151, 151);\"></div>\r\n                      <ng-container *ngIf=\"is(RECEIPT_TYPEZ.CASH)\">\r\n                        <di-ddd field='donationMode' lbl=\"Donation Mode\" [group]='item'\r\n                          [url]=\"URLz.DONATION_MODE\"\r\n                          [oneTimeLoad]='true'\r\n                          [load]='false'\r\n                          (changeEvent)='donationModeChanged($event, i)'\r\n                          [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                          [canLoadChild]=\"!_fhs._hasVal('row_id', item)\"\r\n                        ></di-ddd>\r\n                        <di-ddd field='account_id'\r\n                          [lbl]=\"(item?.get('donationMode')?.value == RECEIPT_TYPEZ.CASH ? 'Cash': 'Cheque') +  ' Account'\"\r\n                          [group]='item'\r\n                          [url]=\"URLz.BANK\"\r\n                          [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                          [param]=\"{\r\n                            query: {\r\n                              cih: item?.get('donationMode')?.value == RECEIPT_TYPEZ.CHEQUE ? 1: null\r\n                            }\r\n                          }\"\r\n                          [parent_id]=\"item?.get('donationMode')?.value == RECEIPT_TYPEZ.CHEQUE ? RECEIPT_TYPEZ.CHEQUE : RECEIPT_TYPEZ.CASH\"\r\n                        ></di-ddd>\r\n                      </ng-container>\r\n                      <di-ddd field='donation_type_id' lbl=\"Donation Type\"\r\n                        [group]='item'\r\n                        [url]=\"URLz.DONATION_T\"\r\n                        [load]='false'\r\n                        [oneTimeLoad]='true'\r\n                        [child]=\"donation_sub_type_id\"\r\n                        [canLoadChild]=\"!_fhs._hasVal('row_id', item)\"\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        #donation_type_id>\r\n                      </di-ddd>\r\n                      <di-ddd field='donation_sub_type_id' lbl=\"Donation Subtype\"\r\n                        [group]='item'\r\n                        [load]=\"false\"\r\n                        [url]=\"URLz.DONATION_S_T\"\r\n                        [parent]='donation_type_id'\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        #donation_sub_type_id>\r\n                      </di-ddd>\r\n                      <ng-container  *ngIf=\"is(RECEIPT_TYPEZ.MATERIAL)\">\r\n                        <di-ac field='material_item_id' lbl=\"Material Item\"\r\n                          [group]=\"item\" [url]=\"URLz.ITEM\"\r\n                          parentFCName=\"donation_type_id\"\r\n                          [disabled]=\"_fhs._hasVal('row_id', item) || !item.get('donation_type_id')?.value\"\r\n                          key_id='itm_buyunit'\r\n                        ></di-ac>\r\n                        <di-txt field=\"weight\" lbl=\"Weight / Qty\" [group]='item'\r\n                          [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                          type='number'\r\n                        ></di-txt>\r\n                        <di-ddd field='unit_id' lbl=\"Unit\"\r\n                          [group]='item'\r\n                          [load]=\"false\"\r\n                          [url]=\"URLz.UNIT_BY_ITEM_ID\"\r\n                          [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                          key_select_subscription='material_item'\r\n                        ></di-ddd>\r\n                        <di-txt field=\"description\" lbl=\"Description\" [group]='item'\r\n                          [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                          *ngIf=\"_fhs._has('description', item)\"\r\n                        ></di-txt>\r\n                      </ng-container>\r\n                      <!-- <di-txt field=\"amount\" lbl=\"Amount\" type='number' [group]='item'\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\">\r\n                      </di-txt> -->\r\n                      <di-currency field=\"amount\" [options]=\"{prefix: currencyPrefix}\" lbl=\"Amount\" type=\"number\" [group]=\"item\"\r\n                      [disabled]=\"_fhs._hasVal('row_id', item)\"></di-currency>\r\n                      <di-ac  field='location_id' lbl=\"Location\" [url]=\"URLz.LOCATION\"\r\n                        [group]=\"item\"\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        [oneTimeLoad]='true'\r\n                      ></di-ac>\r\n                      <di-ac field='majlis_id' lbl=\"Majlis\" [url]=\"URLz.MAJLIS\"\r\n                        [group]=\"item\"\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        [oneTimeLoad]='true'\r\n                      ></di-ac>\r\n                      <di-ac  field='purpose_id' lbl=\"Purpose\" [group]=\"item\"\r\n                        [url]=\"URLz.PURPOSE\"\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        [oneTimeLoad]='true'\r\n                      ></di-ac>\r\n                      <di-ac field='branch_id' lbl=\"Branch\" [group]=\"item\"\r\n                        [url]=\"URLz.BRANCH\"\r\n                        [req]='false'\r\n                        *ngIf=\"_ss?.hierarchy?.branch_status\"\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        [oneTimeLoad]='true'\r\n                      ></di-ac>\r\n                      <di-ac field='fund_category_id' lbl=\"Fund Category\" [group]=\"item\"\r\n                        [url]=\"URLz.FUND_CATEGORY\"\r\n                        [req]='false'\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        [oneTimeLoad]='true'\r\n                        *ngIf=\"_ss?.hierarchy?.fund_category_status\"\r\n                      ></di-ac>\r\n                      <di-txt field=\"additionalInfo\" lbl=\"Additional Info\" [group]='item'\r\n                        [req]='false'\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                      ></di-txt>\r\n                      <di-ac field='c5' lbl=\"C-5\" [url]=\"URLz.C5\"\r\n                        [group]=\"item\"\r\n                        [req]='false'\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        *ngIf=\"_ss?.hierarchy?.c5_status\"\r\n                        [oneTimeLoad]='true'\r\n                        key_select=\"cost_five\"\r\n                      ></di-ac>\r\n                      <di-ddd field='a7' lbl=\"Analysis 7\" [group]='item'\r\n                        [url]=\"URLz.DEFAULT\"\r\n                        [req]='false'\r\n                        [oneTimeLoad]='false'\r\n                        [load]='false'\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        *ngIf=\"false\">\r\n                      </di-ddd>\r\n                      <!-- Cheque | Bank -->\r\n                      <di-ddd field='bank_id'[group]='item'\r\n                        lbl=\"Bank\"\r\n                        [url]=\"URLz.BANK_MASTER\"\r\n                        [load]='false'\r\n                        [oneTimeLoad]='true'\r\n                        [renderRow]='bankCallBack.bind(this)'\r\n                        [parent_id]=\"RECEIPT_TYPEZ.CHEQUE\"\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        *ngIf=\"_fhs._has('bank_id', item) && is(RECEIPT_TYPEZ.CASH)\"\r\n                      ></di-ddd>\r\n                      <di-ddd field=\"account_id\" [group]='item'\r\n                        lbl='Deposit Bank'\r\n                        [url]=\"URLz.BANK\"\r\n                        [load]='false'\r\n                        [oneTimeLoad]='true'\r\n                        [renderRow]='bankCallBack.bind(this)'\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        *ngIf=\"_fhs._has('account_id', item) && is(RECEIPT_TYPEZ.DEPOSIT)\"\r\n                      ></di-ddd>\r\n                      <!-- [parent_id] -->\r\n                      <di-txt field=\"branchCode\" lbl=\"Branch Code\" [group]='item'\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        type='number'\r\n                        *ngIf=\"_fhs._has('branchCode', item)\"\r\n                      ></di-txt>\r\n                      <di-txt field=\"chequeNumber\" lbl=\"Cheque No\" [group]='item'\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        type='number'\r\n                        *ngIf=\"_fhs._has('chequeNumber', item)\"\r\n                      ></di-txt>\r\n                      <di-txt field=\"depositSlipNumber\" lbl=\"Deposit Slip No\" [group]='item'\r\n                        [disabled]=\"_fhs._hasVal('row_id', item)\"\r\n                        type='number'\r\n                        *ngIf=\"_fhs._has('depositSlipNumber', item)\"\r\n                      ></di-txt>\r\n                      <!-- Cheque | Cheque Date -->\r\n                      <di-date field=\"chequeDate\" lbl=\"Cheque Date\" [min]=\"_fhs._LastSixMonthDate(6)\" [group]='item'\r\n                        *ngIf=\"_fhs._has('chequeDate', item)\"\r\n                      ></di-date>\r\n                      <di-date field=\"depositDate\" lbl=\"Deposit Date\" [min]=\"_fhs._LastSixMonthDate(1)\" [max]=\"_fhs._dateOnly()\" [group]='item'\r\n                        *ngIf=\"_fhs._has('depositDate', item)\"\r\n                      ></di-date>\r\n                      <!-- Usher Item -->\r\n                      <di-ac field='usher_item_id' lbl=\"Usher Item\" [group]=\"item\"\r\n                        *ngIf=\"!is(RECEIPT_TYPEZ.MATERIAL)\"\r\n                        [url]=\"URLz.ITEM\"\r\n                        parentFCName=\"donation_type_id\"\r\n                        [disabled]=\"_fhs._hasVal('row_id', item) || !item.get('donation_type_id')?.value\"\r\n                        [req]='false'\r\n                      ></di-ac>\r\n                      <!-- Add / Move Buttons -->\r\n                      <div class=\"col-md-3 p-0 mt-0\">\r\n                        <div class=\"col-md-12 d-flex justify-content-lg-start justify-content-sm-end\">\r\n                          <button mat-raised-button (click)=\"rmvReceiptDetail(i)\" type=\"button\"\r\n                            *ngIf=\"_fhs._getVal('row_id', item) == null\" [disabled]=\"!(receiptDetails.length > 1)\"\r\n                            class=\"btn btn-sm btn-outline-danger my-2 mr-2\">\r\n                            <i class=\"ti-trash text-warning m-10\"></i>\r\n                          </button>\r\n                          <button mat-raised-button (click)=\"cancelReceiptDetail(i, item)\" type=\"button\"\r\n                            *ngIf=\"_fhs._hasVal('row_id', item)\" [disabled]=\"item.get('is_active').value === 2\"\r\n                            class=\"btn btn-sm btn-outline-warning my-2 mr-2\">\r\n                            <i class=\"ti-na text-danger m-10\"></i>\r\n                          </button>\r\n                          <button mat-raised-button (click)=\"addReceiptDetail(item)\" type=\"button\"\r\n                          *ngIf=\"receiptDetails?.length == (i + 1)\"\r\n                          [disabled]=\"item.invalid || exceedLimitDisable ||\r\n                          addMoreDisabled\" class=\"btn btn-sm btn-outline-primary my-2 mr-2\">\r\n                            <i class=\"ti-plus text-info m-10\"></i>\r\n                          </button>\r\n                          <button mat-raised-button (click)=\"copyData(item.getRawValue(), i)\" type=\"button\"\r\n                          [disabled]=\"item.invalid || (exceedLimitDisable || addMoreDisabled)\"\r\n                             class=\"btn btn-sm btn-outline-info my-2\">\r\n                            <i class=\"ti-layers text-primary m-10\"></i>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </fieldset>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"action-form\">\r\n              <div class=\"form-group m-b-0 text-right\">\r\n                <button mat-raised-button type=\"submit\"\r\n                [ngClass]=\"{'eng__font': _ss.lng === 'en', 'urdu__font' : _ss.lng === 'ur' }\"\r\n                class=\"btn btn-info waves-effect waves-light\" type=\"button\" [disabled]=\"submitDisabed\" (click)=\"_onSubmity()\" >\r\n                  {{'Save' | translate}}\r\n                </button>\r\n                <button mat-raised-button type=\"button\" (click)=\"Switch()\"\r\n                [ngClass]=\"{'eng__font': _ss.lng === 'en', 'urdu__font' : _ss.lng === 'ur' }\"\r\n                class=\"btn btn-info waves-effect waves-light ml-1\">\r\n                  {{ (_activeId ? 'Cancel' : 'Refresh') | translate}}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy} from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { MatDialogConfig } from '@angular/material/dialog';\r\nimport { URLz } from 'src/app/enums/url.enum';\r\nimport { TransactionConfirmationComponent } from 'src/app/shared/components/dialogs/transaction-confirmation/transaction-confirmation.component';\r\nimport { Custom } from 'src/app/static/custom';\r\nimport { TransactionDialogComponent } from 'src/app/shared/components/filters/transaction-dialog/transaction-dialog.component';\r\nimport { TransSubscriptionComponent } from './trans-subscription.component';\r\nimport { OnInit } from '@angular/core';\r\nimport { PartialSubmit } from 'src/app/interface/common/partial-submit';\r\nimport { TransactionConfirmComponent } from 'src/app/shared/components/dialogs/transaction-confirm/transaction-confirm.component';\r\n\r\n@Component({\r\n  template: '',\r\n})\r\nexport class TransDialogComponent extends TransSubscriptionComponent implements OnDestroy , OnInit{\r\n  data: any;\r\n  receipt_number = '';\r\n  // continueProcess is assigned in Parent Class has Function Hoisting\r\n  continueProcess; // Here Function Hoisting is mandatory\r\n  resetForm() {\r\n    if(this._fs._form.dirty){\r\n      this._swl.formLeave.then((x) => {\r\n          if (x.isConfirmed) {\r\n            this.resetActionForm()\r\n          }\r\n        });\r\n    } else {\r\n      this.resetActionForm()\r\n    }\r\n\r\n  }\r\n  resetActionForm(){\r\n    const hierarchy = this._fs._form.get('hierarchy').value\r\n    const receipt_date = this._fs._form.get('transaction_receipt_date').value\r\n    this._ss.hierarchy = {...this._ss.hierarchy, ...hierarchy };\r\n    this.rmvAllReceiptDetail();\r\n    this._fs._form.reset();\r\n    this.addReceiptDetail();\r\n    this._fs._form.get('transaction_receipt_date').patchValue(receipt_date)\r\n    this._fs._form.get('receipt_type').patchValue(this.receipt_type)\r\n    this.patchHierarchy();\r\n  }\r\n  // SELECT HIEARCHY\r\n  hierarchyDialog() {\r\n    if(this._fs._form.dirty){\r\n      this._swl.formLeave.then((x) => {\r\n          if (x.isConfirmed) {\r\n            this.hierarchyDialogAction()\r\n          }\r\n        });\r\n    } else {\r\n      this.hierarchyDialogAction()\r\n    }\r\n  }\r\n  hierarchyDialogAction(){\r\n    this.resetActionForm();\r\n    const config: MatDialogConfig = {\r\n      panelClass: \"dialog-responsive\",\r\n      data:  {}\r\n    }\r\n    const dialogRef = this._dialog.open(TransactionDialogComponent, config);\r\n    dialogRef.afterClosed().subscribe(() => {\r\n      this.patchHierarchy()\r\n      this.loadTemplate = true\r\n    });\r\n  }\r\n  patchHierarchy(h = this._ss.permission_data_local) {\r\n    if(!h && localStorage.getItem('permission_data_local')) {\r\n      this._ss.permission_data_local = JSON.parse(localStorage.getItem('permission_data_local'))\r\n      h = JSON.parse(localStorage.getItem('permission_data_local'))\r\n    }\r\n\r\n    const hierarchy = this._fs._form.get('hierarchy') as FormGroup;\r\n    if(hierarchy.invalid){\r\n      hierarchy.patchValue({\r\n        organisation_id: h?.organisation_id,\r\n        system_id: h?.system_id,\r\n        bg: h?.bg,\r\n        le: h?.le,\r\n        ou: h?.ou,\r\n        su: h?.su,\r\n      });\r\n    }\r\n    if (this.emptyCheck(h?.dco)) hierarchy.patchValue({dco: h.dco})\r\n    if(hierarchy?.get('dco')?.invalid && !h?.dco) hierarchy.removeControl('dco')\r\n    if (+h?.system_id != 3) this._fs._form.removeControl('gsb')\r\n    if(h?.currency_id) this._fs._form?.get('currency_id')?.patchValue(h?.currency_id)\r\n    // For Array to use org system as well\r\n    if(h?.organisation_id) this._http.org_id = h?.organisation_id\r\n    if(h?.system_id) this._http.sys_id = h?.system_id\r\n    if(!this._ss?.hierarchy?.status){\r\n      this.loadTemplate = true\r\n    }\r\n  }\r\n  confirmationDialog(id, heading, message, receipt_no) {\r\n    const config: MatDialogConfig = {\r\n      panelClass: \"dialog-responsive\",\r\n      data: { id, heading, message ,receipt_no}\r\n    }\r\n    const dialogRef = this._dialog.open(TransactionConfirmationComponent, config);\r\n    dialogRef.afterClosed().subscribe(() => {\r\n      if (this._activeId != null) {\r\n        const hierarchy = this._fs._form.get('hierarchy').value;\r\n        this._ss.hierarchy = {\r\n          ...this._ss.hierarchy,\r\n          ...hierarchy\r\n        }\r\n        this._fs._form.reset();\r\n        this.Switch()\r\n      } else {\r\n        this.resetActionForm();\r\n        if(!this._ss.permission_data_local_status && this._ss?.hierarchy?.status){\r\n          this.hierarchyDialog();\r\n        }\r\n      }\r\n    });\r\n  }\r\n  checkBatchDialog() {\r\n    this._http\r\n      .get({ endpoint: URLz.CHECK_BATCH })\r\n      .subscribe(\r\n        (res: any) => {\r\n          const data: { status: boolean; message: string } = res.data.row;\r\n          if (!data.status) {\r\n            const batchNumber =  res.data.row.batch_number ? res.data.row.batch_number : 0\r\n            this._swl.transBatch(\r\n              batchNumber,\r\n              this._ss?.hierarchy?.profile?.name,\r\n              () => {\r\n                this.continueProcess();\r\n              }\r\n            )\r\n          } else this.continueProcess();\r\n        },\r\n        // (error) => {\r\n        //   window.open(\r\n        //    'http://localhost:4200/blank/cash_cheque_color;slipId=562',\r\n        //    '_blank'\r\n        //   )\r\n        // }\r\n      )\r\n  }\r\n  // Not in Use\r\n  confirmation = (ps: PartialSubmit) => {\r\n    const data =this._fs._form.getRawValue()\r\n    const config: MatDialogConfig = {\r\n      panelClass: \"dialog-responsive\",\r\n      data\r\n    }\r\n    const dialogRef = this._dialog.open(TransactionConfirmComponent, config);\r\n    this.subscriptionArray.push(dialogRef.afterClosed().subscribe());\r\n    dialogRef.afterClosed().subscribe({\r\n      next: (result) => {\r\n        if (result) {\r\n          ps.confirmationAction(ps)\r\n        }\r\n        else {\r\n          ps.confirmationDeny(ps)\r\n        }\r\n    }});\r\n  }\r\n  Switch() {\r\n    if(this._activeId){\r\n      let url;\r\n      if (window.location.href.indexOf('material') != -1) url = 'material'\r\n      else url = 'cash_cheque'\r\n      this._router.navigate(['transaction/' + url])\r\n      // window.open('http://localhost:4200/blank/cash_cheque_color;slipId=562', '_blank');\r\n    }else {\r\n      this.resetForm();\r\n    }\r\n  }\r\n}\r\n","\r\nimport { Component } from \"@angular/core\";\r\nimport { FormControl, FormGroup } from \"@angular/forms\";\r\nimport { NavigationEnd } from \"@angular/router\";\r\nimport { debounceTime, distinctUntilChanged } from \"rxjs\";\r\nimport { URLz } from \"src/app/enums/url.enum\";\r\nimport { DonorGSBForm } from \"src/app/model/donor/donor-gsb.form\";\r\nimport { RECEIPT_TYPE } from \"src/app/model/transaction/enum\";\r\nimport { Custom } from \"src/app/static/custom\";\r\nimport { TransReceiptComponent } from \"./trans-xreceiptarray.component\";\r\n\r\n@Component({\r\n  template: '',\r\n})\r\nexport class TransSubscriptionComponent extends TransReceiptComponent {\r\n  userForDonorSubscriptions;\r\n  userForDonorSubscription() {\r\n    if (!this._activeId && !this.userForDonorSubscriptions) {\r\n      this.userForDonorSubscriptions = this._fs._form\r\n      .get('additional_info.careOf').valueChanges.pipe(\r\n          debounceTime(450),\r\n          distinctUntilChanged()\r\n        ).subscribe((mobile) => {\r\n          if (this.emptyCheck(mobile)) {\r\n            this._http.get({\r\n              endpoint: URLz.CAREOF,\r\n              query: {title: mobile}\r\n            }).subscribe((res) => {\r\n              const data = res.data.row;\r\n              const gsb = this._fs._form.get('additional_info') as FormGroup;\r\n              if (data?.name) {\r\n                gsb.get('careOfName').patchValue(data?.name);\r\n              } else {\r\n                gsb.get('careOfName').patchValue('');\r\n              }\r\n            });\r\n          }\r\n        });\r\n        this.subscriptionArray.push(this.userForDonorSubscriptions)\r\n    }\r\n  }\r\n  systemSubscriptions\r\n  systemSubscription() {\r\n    const gsb = new DonorGSBForm(this.injector);\r\n    this.systemSubscriptions = this._fs._form?.get('hierarchy').get('system_id')\r\n      .valueChanges.subscribe((val) => {\r\n      if (Custom.emptyCheck(val)) {\r\n        if(!this.is(RECEIPT_TYPE.MATERIAL)) {\r\n          // E-Raseed\r\n          if (val != 3) {\r\n            this._fs._form.removeControl('gsb');\r\n            this._fs._form.get('is_advance').patchValue(0);\r\n            this.is_advance = 0;\r\n          } else {\r\n            this._fs._form.get('is_advance').patchValue(1);\r\n            this.is_advance = 1;\r\n            this._fs._form.addControl(\r\n              'gsb',\r\n              this._fs._fb.group({\r\n                ...gsb.initForm().controls,\r\n              })\r\n            );\r\n          }\r\n        } else if (this.is(RECEIPT_TYPE.MATERIAL)) {\r\n          this._fs._form.removeControl('gsb');\r\n          this._fs._form.removeControl('currency_id');\r\n          this._fs._form.get('is_advance').patchValue(0);\r\n          this.is_advance = 0;\r\n        }\r\n        const hierarchy = this._fs._form?.get('hierarchy') as FormGroup;\r\n        // If System DCO\r\n        if(val != '2') hierarchy.removeControl('dco');\r\n        else{\r\n          hierarchy.addControl(\r\n            'dco',\r\n            new FormControl('', this._vs._vals('Donation Cell Office'))\r\n          )\r\n        }\r\n      }\r\n    });\r\n    this.subscriptionArray.push(this.systemSubscriptions)\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { FormArray, FormGroup } from '@angular/forms';\r\nimport { Transaction } from 'src/app/model/transaction/full.form';\r\nimport { RECEIPT_TYPE } from 'src/app/model/transaction/enum';\r\nimport { Custom } from 'src/app/static/custom';\r\nimport { ChangeEvent } from 'src/app/interface/common/change-event';\r\nimport { TransDialogComponent } from './trans-zbase.component';\r\n\r\n@Component({\r\n  template: '',\r\n})\r\n// HANDLING RECEIPT ARRAY\r\nexport class TransReceiptComponent extends TransDialogComponent {\r\n  date: Date = new Date();\r\n  // 1 Receipt Detail Initialization\r\n  receiptDetail(tt = this.receipt_type): FormGroup {\r\n    return this.fullTransactionForm.receiptDetail(tt);\r\n  }\r\n  // 2 Receipt Detail (Template Iteration)\r\n  get receiptDetails(): FormArray {\r\n    return this._fs._form?.get('receipt_details') as FormArray;\r\n  }\r\n  // 3 Receipt Detail Add\r\n  addReceiptDetail(tt: any | RECEIPT_TYPE = this.receipt_type) {\r\n    const arr = this._fs._form?.get('receipt_details') as FormArray;\r\n    if (tt?.value?.donationMode == 2){\r\n      arr.push(this.receiptDetail(RECEIPT_TYPE.CHEQUE))\r\n    }\r\n    else arr.push(this.receiptDetail())\r\n  }\r\n  // 4. Receipt Detail Copy\r\n  copyData(d: any) {\r\n    d.row_id = null;\r\n    d.is_active = null;\r\n    d.code = null;\r\n    this.fullTransactionForm.patchReceiptDetail([d], this.receipt_type, false);\r\n  }\r\n  // 5. Receipt Detail Remove\r\n  rmvReceiptDetail(index: number) {\r\n    const arr = this._fs._form.get('receipt_details') as FormArray;\r\n    arr.removeAt(index);\r\n  }\r\n  // 6. Receipt Detail Not in Use\r\n  rmvAllReceiptDetail() {\r\n    // Don't Use the Browser Submit Behaviour in Case of Array it looses the\r\n    // Form Validation Sync incase of  FormArray\r\n    const arr = this._fs._form.get('receipt_details') as FormArray;\r\n    while (arr.length > 0) {\r\n        arr.removeAt(0);\r\n    }\r\n    // arr.patchValue([{\r\n    //   code: '',\r\n    //   row_id: '',\r\n    //   donationMode: this.receipt_type,\r\n    // }])\r\n  }\r\n  // 7. Receipt Detail Cancel Entry from Array\r\n  cancelReceiptDetail(index: number, item: FormGroup) {\r\n    const cash = item.value;\r\n    this._swl.transCancel(cash, this.receipt_type)\r\n      .then(status =>  {\r\n        if(status) {\r\n          item.get('is_active').patchValue(2)\r\n          // this.rmvReceiptDetail(index)\r\n        }\r\n      });\r\n  }\r\n  // 8. Receipt Detail Mode Change\r\n  donationModeChanged(event: ChangeEvent, index: number,) {\r\n    if (event?.event?.isUserInput) {\r\n      const tranz: RECEIPT_TYPE = +event.id;\r\n      const fr = this._fs._form.get('receipt_details') as FormArray;\r\n      fr.insert(index, this.fullTransactionForm.receiptDetail(tranz));\r\n      fr.removeAt(index + 1);\r\n    }\r\n  }\r\n  // 9. Receipt Detail Add Disabled\r\n  get addMoreDisabled() {\r\n    let allDisabled = true;\r\n    const trans: Transaction = this._fs._form.value;\r\n    trans.receipt_details.forEach((receipt) => {\r\n      if (\r\n        (receipt.is_active == null && receipt.row_id == null) ||\r\n        (receipt.is_active == 1 && receipt.row_id != null)\r\n      ) {\r\n        allDisabled = false;\r\n      }\r\n    });\r\n    return allDisabled;\r\n  }\r\n  // 10. Receipt Detail Disable Submit when > than\r\n  get exceedLimitDisable() {\r\n    const trans: Transaction = this._fs._form.value;\r\n    return trans?.receipt_details?.length >= 20;\r\n  }\r\n  // 11. Submit Disabled\r\n  get submitDisabed(){\r\n    const trans: Transaction = this._fs._form.value;\r\n    let hasNotRowID = true\r\n    trans?.receipt_details?.forEach(rec => {\r\n      if(!this.emptyCheck(rec.row_id)){\r\n        hasNotRowID = false\r\n      }\r\n    })\r\n    return hasNotRowID;\r\n  }\r\n  // 12. Currency Prefix in Amount\r\n  currencyPrefix = 'PKR ';\r\n  currencyCount = 0;\r\n  handleCurrencyChange(event: ChangeEvent){\r\n    if(this.currencyCount == 0 || event.event.isUserInput){\r\n      this.currencyCount++;\r\n      this.currencyPrefix = event.obj.title + ' ';\r\n    }\r\n  }\r\n  // 13. Bank Display Text\r\n  bankCallBack(val){\r\n    return val?.title + (val?.account_number ? ' - ' + val?.account_number : '')\r\n  }\r\n}\r\n","import { Component, Injector, OnInit } from '@angular/core';\r\nimport { URLz } from 'src/app/enums/url.enum';\r\nimport { BaseForm } from 'src/app/class/base.form';\r\nimport { FullTransactionForm } from 'src/app/model/transaction/full.form';\r\nimport { RECEIPT_TYPE } from 'src/app/model/transaction/enum';\r\nimport { environment } from 'src/environments/environment';\r\nimport { FullBasicDonorForm } from 'src/app/model/donor/full-basic-donor.form';\r\nimport { FullGSBDonorForm } from 'src/app/model/donor/full-donor-gsb.form';\r\n\r\n@Component({\r\n  template: '',\r\n})\r\n// For Injecting Service and Imports\r\nexport class TransDialogComponent extends BaseForm implements OnInit {\r\n  // Injected Services\r\n  fullTransactionForm: FullTransactionForm;\r\n  fullBasicDonorForm: FullBasicDonorForm;\r\n  fullGSBDonorForm: FullGSBDonorForm;\r\n\r\n  // Transaction Properties\r\n  RECEIPT_TYPEZ = RECEIPT_TYPE;\r\n  receipt_type: RECEIPT_TYPE;\r\n  is_advance = 1;\r\n  _component: string;\r\n  loadTemplate = false;\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.fullTransactionForm = injector.get(FullTransactionForm);\r\n    this.fullBasicDonorForm = injector.get(FullBasicDonorForm);\r\n    this.fullGSBDonorForm = injector.get(FullGSBDonorForm);\r\n\r\n  }\r\n  ngOnInit() {\r\n    this._activeId = this._fhs._getURLParam('id');\r\n    this._fhs._pathLocation = '/transaction/list';\r\n    this.param.endpoint = URLz.TRANSACTION;\r\n    this.param.url = environment.TRANSACTION;\r\n    this._vs.showWarning = true\r\n    this.getTransationType();\r\n    this._fs._form = this.fullTransactionForm.initForm(this.receipt_type);\r\n    if (this.receipt_type == RECEIPT_TYPE.MATERIAL) {\r\n      this._fs._form.removeControl('gsb');\r\n      this._fs._form.removeControl('currency_id');\r\n    }\r\n    this.param.query = {\r\n      receipt_type:this.receipt_type\r\n    };\r\n  }\r\n  getTransationType() {\r\n    const url = window.location.href;\r\n    if (url.indexOf('cash') != -1) {\r\n      this._component = 'Cash / Cheque Receipt';\r\n      this.receipt_type = RECEIPT_TYPE.CASH;\r\n    }\r\n    if (url.indexOf('deposit') != -1) {\r\n      this._component = 'Direct Deposit Receipt';\r\n      this.receipt_type = RECEIPT_TYPE.DEPOSIT;\r\n    } else if (url.indexOf('material') != -1) {\r\n      this._component = 'Material Receipt';\r\n      this.receipt_type = RECEIPT_TYPE.MATERIAL;\r\n      this._fs._form.removeControl('gsb');\r\n      this._fs._form.removeControl('currency_id');\r\n    }\r\n  }\r\n  is(RT: RECEIPT_TYPE){\r\n    return RT == this.receipt_type\r\n  }\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogConfig } from '@angular/material/dialog';\r\nimport { URLz } from 'src/app/enums/url.enum';\r\nimport { Transaction } from 'src/app/model/transaction/full.form';\r\nimport { RECEIPT_TYPE } from 'src/app/model/transaction/enum';\r\nimport { HierarchyForm } from 'src/app/model/transaction/hierarchy.form';\r\nimport { TransactionDetailComponent } from 'src/app/shared/components/dialogs/transaction-detail/transaction-detail.component';\r\nimport { TransactionDialogComponent } from 'src/app/shared/components/filters/transaction-dialog/transaction-dialog.component';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HierarchyOnly } from 'src/app/interface/common/hierarchy';\r\nimport { BaseListClass } from 'src/app/class/base-list-class';\r\n\r\n@Component({\r\n  selector: 'di-trans-list',\r\n  templateUrl: './trans-list.component.html',\r\n  styleUrls: ['./trans-list.component.css']\r\n})\r\nexport class TransListComponent extends BaseListClass implements OnInit, OnDestroy {\r\n  receipt_type: RECEIPT_TYPE\r\n  transURL = environment.TRANSACTION + URLz.TRANSACTION\r\n  showTemplate = false\r\n  // # FURTURE REFERENCE\r\n  // static properties can also be used for STATE MGMT PURPOSE\r\n  static lastSelectedHierarchy: HierarchyOnly\r\n  subSearch: any = {};\r\n  public globurl = window.location.href;\r\n  ngOnInit() {\r\n    this.setRecieptType();\r\n    this._pathLocation = \"/transaction/cash_cheque\";\r\n    this._component = \"Transaction \" + this.returnRecType(this.receipt_type)\r\n    this.changeHierarchy();\r\n    this.initTables();\r\n  }\r\n  initTables() {\r\n    this._reset(URLz.$)\r\n    this.initForm();\r\n    this._tbls[URLz.$].columns = [\r\n      'actions', // Print, Details, Edit, SMS, Email\r\n      'name',\r\n      'donor_mobile',\r\n      'receipt_number',\r\n      'receipt_type',\r\n    ];\r\n    this._tbls[URLz.$].columns.splice(3, 0, this.receipt_type == RECEIPT_TYPE.MATERIAL ? \"date\" : \"amount\")\r\n    this._tbls[URLz.$].url = environment.TRANSACTION\r\n    this._tbls[URLz.$].endpoint = URLz.TRANSACTION;\r\n    this._formCreator(this._tbls[URLz.$]);\r\n    this._refresh(URLz.$)\r\n  }\r\n  initForm() {\r\n    const hierarchy = new HierarchyForm(this.injector);\r\n    this._tbls[URLz.$].formFilter = this._fs._fb.group({\r\n      from_date: [this._fhs._dateOnly(), this._vs._vals('From Date')],\r\n      to_date: [this._fhs._dateOnly(), this._vs._vals('To Date')],\r\n      ...hierarchy.initForm().controls,\r\n      receipt_type: [this.receipt_type],\r\n    })\r\n    this._fs._form = this._fs._fb.group({\r\n      hierarchy: this._tbls[URLz.$].formFilter\r\n    })\r\n  }\r\n  // Resend Email\r\n  _resendSms(id) {\r\n    const smsObj = {\r\n      id,\r\n      receipt_type: this.receipt_type\r\n    }\r\n    this._http.create({\r\n      body: smsObj,\r\n      url: environment.TRANSACTION,\r\n      endpoint: 'resend_sms'\r\n    }).subscribe((res: any) => {\r\n      this._swl.swal('SMS', res?.message)\r\n    })\r\n\r\n  }\r\n  Switch(id, slip) {\r\n    let url = '/blank/';\r\n    if (this.globurl.indexOf('cash') != -1 || this.globurl.indexOf('deposit') != -1) {\r\n      if (id) url += slip == 'colored' ? 'cash_cheque_color' : 'cash_cheque_black'\r\n    }\r\n    else if (this.globurl.indexOf('material') != -1) {\r\n      if (id) url += slip == 'colored' ? 'material_color' : 'material_black'\r\n    }\r\n    url = this._router.serializeUrl(\r\n      this._router.createUrlTree([url, { slipId: id }])\r\n    );\r\n    window.open(url, '_blank');\r\n  }\r\n  patchLastSelectedResult() {\r\n    if (TransListComponent.lastSelectedHierarchy) {\r\n      this.patchHiearchy(TransListComponent.lastSelectedHierarchy)\r\n      this._reset(URLz.$)\r\n      this._refresh(URLz.$)\r\n    }\r\n  }\r\n  // HIEARCHY\r\n  changeHierarchy() {\r\n    this.openDialog('');\r\n  }\r\n  openDialog(title) {\r\n    const config: MatDialogConfig = {\r\n      panelClass: \"dialog-responsive\",\r\n      data: { title, hideCheckBox: true }\r\n    }\r\n    const dialogRef = this._dialog.open(TransactionDialogComponent, config);\r\n    dialogRef.afterOpened().subscribe(() => {\r\n      if (TransListComponent.lastSelectedHierarchy) {\r\n        this.patchHiearchy(TransListComponent.lastSelectedHierarchy)\r\n      }\r\n      else {\r\n        const currentDate = this._fhs._dateOnly()\r\n        this._tbls[URLz.$].formFilter?.patchValue({\r\n          from_date: currentDate,\r\n          to_date: currentDate\r\n        })\r\n      }\r\n    })\r\n    dialogRef.afterClosed().subscribe(() => {\r\n      TransListComponent.lastSelectedHierarchy =\r\n        this._tbls[URLz.$].formFilter?.value;\r\n      this.showTemplate = true;\r\n      this._reset(URLz.$);\r\n      this._refresh(URLz.$)\r\n\r\n    });\r\n  }\r\n  patchHiearchy(d: HierarchyOnly) {\r\n    this._tbls[URLz.$].formFilter.patchValue({\r\n      organisation_id: d.organisation_id,\r\n      system_id: d.system_id,\r\n      bg: d.bg,\r\n      le: d.le,\r\n      ou: d.ou,\r\n      su: d.su\r\n    })\r\n    if (d.dco) {\r\n      this._tbls[URLz.$].formFilter.patchValue({\r\n        dco: d.dco\r\n      })\r\n    }\r\n    if (d['from_date']) {\r\n      this._tbls[URLz.$].formFilter.patchValue({\r\n        from_date: d['from_date'],\r\n        to_date: d['to_date']\r\n      })\r\n    }\r\n  }\r\n  detailDialog(id: string) {\r\n    this._http\r\n      .get({\r\n        endpoint: URLz.TRANSACTION,\r\n        url: environment.TRANSACTION,\r\n        resource: id,\r\n        query: { receipt_type: this.receipt_type }\r\n      })\r\n      .subscribe((res: any) => {\r\n        const data: Transaction = res.data.row;\r\n        const config: MatDialogConfig = {\r\n          panelClass: \"dialog-responsive\",\r\n          data\r\n        }\r\n        const dialogRef = this._dialog.open(TransactionDetailComponent, config);\r\n        dialogRef.afterClosed().subscribe();\r\n      });\r\n\r\n  }\r\n  setRecieptType() {\r\n    const url = window.location.href;\r\n    if (url.indexOf('cash') != -1) {\r\n      this.receipt_type = RECEIPT_TYPE.CASH;\r\n    } else if (url.indexOf('deposit') != -1) {\r\n      this.receipt_type = RECEIPT_TYPE.DEPOSIT;\r\n    } else if (url.indexOf('material') != -1) {\r\n      this.receipt_type = RECEIPT_TYPE.MATERIAL;\r\n    }\r\n  }\r\n  returnRecType(rt: number) {\r\n    if (rt == 1) return '(Cash / Cheque)'\r\n    else if (rt == 3) return 'Deposit'\r\n    else if (rt == 4) return 'Material'\r\n    else return rt\r\n  }\r\n  _switchs(id, rt = this.receipt_type) {\r\n    let path = 'transaction/'\r\n    if (id > 0 && rt) {\r\n      if (rt == 1) path += 'cash_cheque_add'\r\n      else if (rt == 3) path += 'deposit_add'\r\n      else if (rt == 4) path += 'material_add'\r\n      this._router.navigate([path, { id }])\r\n    }\r\n  }\r\n  ngOnDestroy(): void {\r\n    TransListComponent.lastSelectedHierarchy = undefined\r\n  }\r\n}\r\n","<div class=\"row\" *ngIf=\"showTemplate\">\r\n  <div class=\"col-md-12\">\r\n    <div class=\"card card__styling\">\r\n      <div class=\"card-body custom__card__body__styling\">\r\n        <h2 class=\"card-title mb-0\"> {{ _component | translate }}\r\n          <button mat-raised-button type=\"button\" (click)=\"changeHierarchy()\"\r\n            [ngClass]=\"{'eng__font': _ss.lng === 'en', 'urdu__font' : _ss.lng === 'ur' }\"\r\n            class=\"btn btn-info custon__add__btns__class float-right\">\r\n            {{'Filter' | translate}}\r\n          </button>\r\n        </h2>\r\n      </div>\r\n      <hr style=\"border-top: 0px !important;\">\r\n      <div class=\"card-body pt-0\">\r\n        <div class=\"mat_table\">\r\n          <table mat-table matSort [dataSource]=\"_tbls[URLz.$].dataSource\" style=\"box-shadow: none;\"\r\n            (matSortChange)=\"_sort($event, URLz.$)\">\r\n            <!-- <ng-container matColumnDef=\"id\" >\r\n              <th style=\"width: 40px;\" class=\"\" mat-header-cell *matHeaderCellDef>{{ 'S No' | translate }}</th>\r\n              <td mat-cell *matCellDef=\"let item; let i = index\">\r\n                {{i + (_tbls[URLz.$].index * _tbls[URLz.$].size) + 1}}\r\n              </td>\r\n            </ng-container> -->\r\n            <ng-container matColumnDef=\"actions\">\r\n              <th style=\"width: 100px;\" mat-header-cell *matHeaderCellDef>\r\n                <i class=\"ti-reload text-info pointer px-2\" (click)=\"_reset(URLz.$); _refresh(URLz.$)\"></i>\r\n                <i class=\"ti-search text-info pointer px-2\" (click)=\"_refresh(URLz.$)\"></i>\r\n              </th>\r\n              <td mat-cell *matCellDef=\"let item\">\r\n                <button mat-icon-button [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\">\r\n                  <mat-icon>list</mat-icon>\r\n                </button>\r\n                <mat-menu #menu=\"matMenu\" class=\"custom_menu_icon\">\r\n                  <button *permission=\"ACTION.EDIT\" mat-menu-item (click)=\"_switchs(item?.id)\">\r\n                    <i class=\"ti-pencil text-info m-10 pointer\"></i>\r\n                  </button>\r\n                  <button mat-menu-item (click)=\"detailDialog(item?.id)\">\r\n                    <i class=\"ti-eye text-info m-10 pointer\"></i>\r\n                  </button>\r\n                  <button mat-menu-item (click)=\"Switch(item.id,'black')\">\r\n                    <i class=\"ti-receipt text-info m-10 receipt_black pointer\"></i>\r\n                  </button>\r\n                  <button mat-menu-item (click)=\"Switch(item.id,'colored')\">\r\n                    <i class=\"ti-receipt text-info m-10 receipt_colored pointer\"></i>\r\n                  </button>\r\n                  <button mat-menu-item *ngIf=\"item?.resend_sms == true\" (click)=\"_resendSms(item?.id)\">\r\n                    <i class=\"ti-mobile text-info m-10 pointer\"></i>\r\n                  </button>\r\n                </mat-menu>\r\n                <!-- <i class=\"ti-email text-info m-10 pointer\" (click)=\"_switch(item.id)\"></i> -->\r\n              </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"name\">\r\n              <th class=\"pr-3\" mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'>\r\n                <di-tbl-txt field='name' lbl='Donor' [group]=\"_tbls[URLz.$].form\"></di-tbl-txt>\r\n              </th>\r\n              <td class=\"px-3\" mat-cell *matCellDef=\"let item\"> {{item?.donor?.title}} </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"donor_mobile\">\r\n              <th class=\"pr-3\" mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'>\r\n                <di-tbl-txt field='donor_mobile' lbl='Donor Mobile' [group]=\"_tbls[URLz.$].form\"></di-tbl-txt>\r\n              </th>\r\n              <td class=\"px-3\" mat-cell *matCellDef=\"let item\"> {{item?.donor?.donor_mobile}} </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"receipt_number\">\r\n              <th class=\"pr-3\" mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'>\r\n                <di-tbl-txt field='receipt_number' lbl='Receipt No' [group]=\"_tbls[URLz.$].form\"></di-tbl-txt>\r\n              </th>\r\n              <td class=\"px-3\" mat-cell *matCellDef=\"let item\"> {{item.receipt_number}} </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"receipt_type\">\r\n              <th class=\"pr-3\" mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'>{{'Receipt Type'\r\n                | translate}}</th>\r\n              <td class=\"px-3\" mat-cell *matCellDef=\"let item\">\r\n                {{ returnRecType(receipt_type)}} </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"amount\">\r\n              <th class=\"pr-3\" mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'>{{'Amount' |\r\n                translate}}</th>\r\n              <td class=\"px-3\" mat-cell *matCellDef=\"let item\">\r\n                {{item.amount + ' ' + item.currency.symbol }}\r\n              </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"date\">\r\n              <th class=\"pr-3\" mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'>{{'Date' |\r\n                translate}}</th>\r\n              <td class=\"px-3\" mat-cell *matCellDef=\"let item\">\r\n                {{ item.date }}\r\n              </td>\r\n            </ng-container>\r\n            <tr mat-header-row *matHeaderRowDef=\"this._tbls[URLz.$].columns; sticky:true\"\r\n              [ngClass]=\"{'eng__font': _ss.lng === 'en', 'urdu__font' : _ss.lng === 'ur' }\">\r\n            </tr>\r\n            <tr mat-row *matRowDef=\"let row; columns: this._tbls[URLz.$].columns;\"></tr>\r\n          </table>\r\n        </div>\r\n        <di-paginator [tbl]=\"_tbls[URLz.$]\" (paginateEvent)=\"_refresh(URLz.$)\"></di-paginator>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ACTION } from 'src/app/enums/action.enum';\r\n\r\nimport { TransAddComponent } from './trans-add/trans-add.component';\r\nimport { TransListComponent } from './trans-list/trans-list.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    children: [\r\n      {\r\n        path: '',\r\n        redirectTo: 'cash_cheque',\r\n        pathMatch: 'full'\r\n      },\r\n      {\r\n        path: \"cash_cheque_add\",\r\n        component: TransAddComponent,\r\n        data: {\r\n          title: \"Cash\",\r\n          permission: [\r\n            ACTION.ADD,\r\n            ACTION.EDIT\r\n          ],\r\n          urls: [\r\n            { title: \"Transaction\"},\r\n            { title: \"Cash\"},\r\n            { title: \"Add\" },\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        path: \"cash_cheque\",\r\n        component: TransListComponent,\r\n        data: {\r\n          title: \"Cash / Cheque List\",\r\n          permission: [\r\n            ACTION.VIEW\r\n          ],\r\n          urls: [\r\n            { title: \"Transaction\"},\r\n            { title: \"Cash / Cheque\"},\r\n            { title: \"List\" },\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        path: \"deposit_add\",\r\n        component: TransAddComponent,\r\n\r\n        data: {\r\n          title: \"Deposit\",\r\n          permission: [\r\n            ACTION.ADD,\r\n            ACTION.EDIT\r\n          ],\r\n          urls: [\r\n            { title: \"Transaction\"},\r\n            { title: \"Deposit\"},\r\n            { title: \"Add\" },\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        path: \"deposit\",\r\n        component: TransListComponent,\r\n        data: {\r\n          title: \"Deposit List\",\r\n          permission: [\r\n            ACTION.VIEW\r\n          ],\r\n          urls: [\r\n            { title: \"Transaction\"},\r\n            { title: \"Deposit\"},\r\n            { title: \"List\" },\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        path: \"material_add\",\r\n        component: TransAddComponent,\r\n\r\n        data: {\r\n          title: \"Material\",\r\n          permission: [\r\n            ACTION.ADD,\r\n            ACTION.EDIT\r\n          ],\r\n          urls: [\r\n            { title: \"Transaction\"},\r\n            { title: \"Material\"},\r\n            { title: \"Add\" },\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        path: \"material\",\r\n        component: TransListComponent,\r\n\r\n        data: {\r\n          title: \"Material List\",\r\n          permission: [\r\n            ACTION.VIEW\r\n          ],\r\n          urls: [\r\n            { title: \"Transaction\"},\r\n            { title: \"Material\"},\r\n            { title: \"List\" },\r\n          ]\r\n        }\r\n      },\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TransactionRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'di-transaction',\r\n  template: `<router-outlet></router-outlet>`,\r\n})\r\nexport class TransactionComponent {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TransactionRoutingModule } from './transaction-routing.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { DonorModule } from '../donor/donor.module';\r\nimport { TransListComponent } from './trans-list/trans-list.component';\r\nimport { TransactionComponent } from './transaction.component';\r\nimport { TransAddComponent } from './trans-add/trans-add.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TransactionComponent,\r\n    TransListComponent,\r\n    TransAddComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    DonorModule,\r\n    TransactionRoutingModule\r\n  ]\r\n})\r\nexport class TransactionModule { }\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { SelectOption } from 'src/app/interface/common/select';\r\nimport { ValidatorService } from 'src/app/service/base.validator.service';\r\nimport { FormService } from 'src/app/service/form.service';\r\nimport { StateService } from 'src/app/service/state.service';\r\n\r\n@Injectable()\r\nexport class TransactionCashForm {\r\n  _fs: FormService;\r\n  _vs: ValidatorService;\r\n  _ss: StateService;\r\n  constructor(protected injector: Injector) {\r\n    this._fs = injector.get(FormService);\r\n    this._vs = injector.get(ValidatorService);\r\n    // this.initForm();\r\n  }\r\n  initForm(cash: Cash = { donationMode: 1 }): FormGroup {\r\n    this._ss = this.injector.get(StateService)\r\n    let accountVal\r\n    if(cash.donationMode === 1) accountVal = this._vs._vals('Cash Account')\r\n    else if (cash.donationMode === 2) accountVal = this._vs._vals('Cheque Account')\r\n    else accountVal  = null\r\n    return  this._fs._fb.group({\r\n      is_active: [cash.is_active],\r\n      code: [cash.code],\r\n      row_id: [cash.row_id],\r\n      donationMode: [\r\n        cash.donationMode,\r\n        this._vs._vals('Donation Mode')\r\n      ],\r\n      amount: [\r\n        cash.amount,\r\n        this._vs._val('Amount', { min: 1, max: 1000000000, decimal: 1 }),\r\n      ],\r\n      account_id: [\r\n        cash.account_id,\r\n        accountVal\r\n      ],\r\n      donation_type_id: [\r\n        cash.donation_type_id,\r\n        this._vs._vals('Donation Type')\r\n      ],\r\n      donation_sub_type_id: [\r\n        cash?.donation_sub_type_id,\r\n        this._vs._vals('Donation Subtype')\r\n      ],\r\n      location_id: [\r\n        cash.location_id,\r\n        this._vs._vals('Location')\r\n      ],\r\n      majlis_id: [\r\n        cash.majlis_id,\r\n        this._vs._vals('Majlis')\r\n      ],\r\n      purpose_id: [\r\n        cash.purpose_id,\r\n        this._vs._vals('Purpose')\r\n      ],\r\n      branch_id: [\r\n        cash.branch_id\r\n        // this._vs._vals('Branch')\r\n      ],\r\n      fund_category_id: [\r\n        cash.fund_category_id\r\n        // this._vs._vals('Fund Category')\r\n      ],\r\n      additionalInfo: [\r\n        cash.additionalInfo,\r\n        this._vs._val('', { maxChar: 255, alphaNum: 1 }),\r\n      ],\r\n      c5: [\r\n        cash.c5\r\n        // this._vs._vals('C-5')\r\n      ],\r\n      a7: [cash.a7], // , this._vs._val('Analysis 7', 0)\r\n      usher_item_id: [cash.usher_item_id],\r\n      cost_five: [{ value: cash?.cost_five, disabled: true}],\r\n      account: [{ value: cash?.account, disabled: true}],\r\n      fund_category: [{value: cash?.fund_category, disabled: true}],\r\n      majlis: [{value: cash?.majlis, disabled: true}],\r\n      branch: [{ value: cash?.branch, disabled: true} ],\r\n      purpose: [{ value: cash?.purpose, disabled: true} ],\r\n      location: [{ value: cash?.location, disabled: true} ],\r\n      usher_item: [{ value: cash?.usher_item, disabled: true} ],\r\n      donation_type: [{ value: cash?.donation_type, disabled: true} ],\r\n      donation_sub_type: [{ value: cash?.donation_sub_type, disabled: true} ],\r\n    });\r\n  }\r\n}\r\n// Interface Segregation Principle\r\nexport interface Cash {\r\n  code?: string; // recm_no\r\n  row_id?: string; // tranno\r\n  donationMode?: number; // tranno\r\n  account_id?: string;\r\n  is_active?: number;\r\n  amount?: string;\r\n  donation_sub_type_id?: string; //donation_sub_type\r\n  fund_category_id?: string; //donation_sub_type\r\n  donation_type_id?: string; // donation_type\r\n  usher_item_id?: string;\r\n  location_id?: string;\r\n  purpose_id?: string;\r\n  branch_id?: string;\r\n  majlis_id?: string;\r\n  bank_id?: string;\r\n  additionalInfo?: string;\r\n  // cost6: string; Removed from All\r\n  c5?: string; // Donation Subtype\r\n  a7?: string; // Donation Subtype\r\n  bank?: SelectOption;\r\n  fund_category?: SelectOption;\r\n  majlis?: SelectOption;\r\n  account?: SelectOption;\r\n  purpose?: SelectOption;\r\n  location?: SelectOption;\r\n  branch?: SelectOption;\r\n  usher_item?: SelectOption;\r\n  donation_type?: SelectOption;\r\n  donation_sub_type?: SelectOption;\r\n  cost_five?: SelectOption;\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { ValidatorService } from 'src/app/service/base.validator.service';\r\nimport { FormService } from 'src/app/service/form.service';\r\nimport { Cash, TransactionCashForm } from './cash.form';\r\n\r\n@Injectable()\r\nexport class TransactionChequeForm {\r\n  _fs: FormService;\r\n  _vs: ValidatorService;\r\n  constructor(protected injector: Injector) {\r\n    this._fs = injector.get(FormService);\r\n    this._vs = injector.get(ValidatorService);\r\n  }\r\n  initForm(d: Cheque = {}): FormGroup {\r\n    const transactionCashForm = new TransactionCashForm(this.injector);\r\n    d.donationMode = 2\r\n    return this._fs._fb.group({\r\n      ...transactionCashForm.initForm(d).controls,\r\n      bank_id: [d.bank_id, this._vs._vals('Bank')],\r\n      branchCode: [d.branchCode, this._vs._val('Branch Code')],\r\n      chequeNumber: [d.chequeNumber, this._vs._val('Cheque No', {maxChar:10})],\r\n      chequeDate: [\r\n        d.chequeDate,\r\n        [\r\n          this._vs._vals('Cheque Date'),\r\n        ],\r\n        // Shaheer Bhi\r\n        // this._vs._val_Date({ maxDate: new Date() })\r\n      ],\r\n      bank: [{value: d.bank, disabled: true} ],\r\n    });\r\n  }\r\n}\r\n// Interface Segregation Principle\r\nexport interface Cheque extends Cash {\r\n  branchCode?: string;\r\n  chequeNumber?: string;\r\n  chequeDate?: string;\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { ValidatorService } from 'src/app/service/base.validator.service';\r\nimport { FormService } from 'src/app/service/form.service';\r\nimport { Cash, TransactionCashForm } from './cash.form';\r\n\r\n@Injectable()\r\nexport class TransactionDepositForm {\r\n  _fs: FormService;\r\n  _vs: ValidatorService;\r\n  constructor(protected injector: Injector) {\r\n    this._fs = injector.get(FormService);\r\n    this._vs = injector.get(ValidatorService);\r\n  }\r\n  initForm(d: Deposit = {}): FormGroup {\r\n    const transactionCashForm = new TransactionCashForm(this.injector);\r\n    return this._fs._fb.group({\r\n      ...transactionCashForm.initForm(d).controls,\r\n      account_id: [\r\n        d.account_id,\r\n        this._vs._vals('Deposit Bank')\r\n      ],\r\n      branchCode: [\r\n        d.branchCode,\r\n        this._vs._val('Branch Code')\r\n      ],\r\n      depositSlipNumber: [\r\n        d.depositSlipNumber,\r\n        this._vs._val('Deposit Slip No')\r\n      ],\r\n      depositDate: [\r\n        d.depositDate,\r\n        [\r\n          this._vs._val('Deposit Date'),\r\n          this._vs._val_Date({maxDate: new Date()})\r\n        ]\r\n      ],\r\n      bank: [{value: d.bank, disabled: true}],\r\n\r\n    });\r\n  }\r\n}\r\nexport interface Deposit extends Cash {\r\n  branchCode?: string;\r\n  depositSlipNumber?: string;\r\n  depositDate?: string;\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { SelectOption } from 'src/app/interface/common/select';\r\nimport { ValidatorService } from 'src/app/service/base.validator.service';\r\nimport { FormService } from 'src/app/service/form.service';\r\nimport { DonorAddInfo } from '../donor/donor-add-info.form';\r\nimport { DonorAddInfoForm } from '../donor/donor-add-info.form';\r\n\r\n@Injectable()\r\nexport class TransactionDonorAddForm {\r\n  _fs: FormService;\r\n  _vs: ValidatorService;\r\n  constructor(public injector: Injector) {\r\n    this._fs = injector.get(FormService);\r\n    this._vs = injector.get(ValidatorService);\r\n  }\r\n  initForm(): FormGroup {\r\n    const donorAddInfoForm = new DonorAddInfoForm(this.injector);\r\n    return this._fs._fb.group({\r\n      ...donorAddInfoForm.initForm().controls,\r\n      displayName: ['', this._vs._val('', { alpha: 1 })],\r\n      careOf: ['', this._vs._val('', { minChar: 11, maxChar: 15, num: 1 })],\r\n      careOfName: ['', this._vs._val('', { alpha: 1 })],\r\n      mr: ['', this._vs._val('', { maxChar: 10, alphaNum: 1 })],\r\n    });\r\n  }\r\n  patchForm(d: TransDonorAddInfo) {\r\n    this._fs._form.patchValue({\r\n      gender: d.gender,\r\n      email: d.email,\r\n      address: d.address,\r\n      displayName: d.displayName,\r\n      careOf: d.careOf,\r\n      careOfName: d.careOfName,\r\n      mr: d.mr,\r\n    });\r\n  }\r\n}\r\n// Interface Segregation Principle\r\n\r\nexport interface TransDonorAddInfo extends DonorAddInfo {\r\n  displayName?: string;\r\n  careOf?: string;\r\n  careof: SelectOption\r\n  careOfName?: string;\r\n  mr?: string;\r\n}\r\n","export enum RECEIPT_TYPE{\r\n  HOLD=0,\r\n  CASH=1,\r\n  CHEQUE=2,\r\n  DEPOSIT=3,\r\n  MATERIAL=4,\r\n}\r\n","import { DatePipe } from '@angular/common';\r\nimport { Injectable, Injector } from '@angular/core';\r\nimport { FormArray, FormControl, FormGroup } from '@angular/forms';\r\nimport { SelectOption } from 'src/app/interface/common/select';\r\nimport { ValidatorService } from 'src/app/service/base.validator.service';\r\nimport { FormService } from 'src/app/service/form.service';\r\nimport { StateService } from 'src/app/service/state.service';\r\nimport { DonorGSB, DonorGSBForm } from '../donor/donor-gsb.form';\r\nimport { DonorInfo, DonorInfoForm } from '../donor/donor-info.form';\r\nimport { Cash, TransactionCashForm } from './cash.form';\r\nimport { Cheque, TransactionChequeForm } from './cheque.form';\r\nimport { Deposit, TransactionDepositForm } from './deposit.form';\r\nimport { TransactionDonorAddForm, TransDonorAddInfo } from './donor-additional.form';\r\nimport { RECEIPT_TYPE } from './enum';\r\nimport { Hierarchy, HierarchyForm } from './hierarchy.form';\r\nimport { Material, TransactionMaterialForm } from './material.form';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\n/**\r\n * #SOLID 4 Interface Segregation\r\n * The Interface Segregation Principle was defined by Robert C. Martin while consulting for Xerox to help them build the software for their new printer systems. He defined it as: Clients should not be forced to depend upon interfaces that they do not use..\r\n *\r\n */\r\nexport class FullTransactionForm {\r\n  _fs: FormService;\r\n  _vs: ValidatorService;\r\n  _ss: StateService\r\n  constructor(public injector: Injector) {\r\n    this._fs = injector.get(FormService);\r\n    this._vs = injector.get(ValidatorService);\r\n    this._ss = injector.get(StateService);\r\n  }\r\n  initForm(trans: RECEIPT_TYPE) {\r\n    const donorInfoForm = new DonorInfoForm(this.injector);\r\n    const donorGSBForm = new DonorGSBForm(this.injector);\r\n    const datePipe = this.injector.get(DatePipe);\r\n    const transactionDonorAddForm = new TransactionDonorAddForm(this.injector);\r\n    const hierarchy = new HierarchyForm(this.injector);\r\n    const currentDate =  datePipe.transform(new Date(), 'yyyy-MM-dd')\r\n    // Cash | Cheque | Deposit | Material;\r\n    const group = this._fs._fb.group({\r\n      currency_id: ['', this._vs._vals('Currency')],\r\n      transaction_receipt_date: [currentDate, this._vs._vals('Receipt Date')],\r\n      event_id: [''],\r\n      is_advance: ['0'],\r\n      donor: this._fs._fb.group({\r\n        ...donorInfoForm.initForm().controls,\r\n      }),\r\n      gsb: this._fs._fb.group({\r\n        ...donorGSBForm.initForm().controls,\r\n      }),\r\n      hierarchy: this._fs._fb.group({\r\n        ...hierarchy.initForm().controls,\r\n      }),\r\n      additional_info: this._fs._fb.group({\r\n        ...transactionDonorAddForm.initForm().controls,\r\n      }),\r\n      receipt_details: this._fs._fb.array([this.receiptDetail(trans)]),\r\n    });\r\n    this.setReceiptType(trans, group)\r\n    return group;\r\n  }\r\n  setReceiptType(trans: RECEIPT_TYPE, group : FormGroup){\r\n    if (trans == RECEIPT_TYPE.CASH || trans == RECEIPT_TYPE.CHEQUE) {\r\n      group.addControl('receipt_type', new FormControl(1));\r\n    } else if (trans == RECEIPT_TYPE.DEPOSIT) {\r\n      group.addControl('receipt_type', new FormControl(3));\r\n    } else if (trans == RECEIPT_TYPE.MATERIAL) {\r\n      group.addControl('receipt_type', new FormControl(4));\r\n    }\r\n  }\r\n  // 1 Receipt Detail Initialization\r\n  receiptDetail(trans: RECEIPT_TYPE): FormGroup {\r\n    const cash = new TransactionCashForm(this.injector);\r\n    const cheque = new TransactionChequeForm(this.injector);\r\n    const deposit = new TransactionDepositForm(this.injector);\r\n    const material = new TransactionMaterialForm(this.injector);\r\n    switch (trans) {\r\n      case RECEIPT_TYPE.CASH:\r\n        return this._fs._fb.group({\r\n          ...cash.initForm().controls,\r\n          donationMode: [1, this._vs._vals('Donation Mode')],\r\n        });\r\n      case RECEIPT_TYPE.CHEQUE:\r\n        return this._fs._fb.group({\r\n          ...cheque.initForm().controls,\r\n          donationMode: [2, this._vs._vals('Donation Mode')],\r\n        });\r\n      case RECEIPT_TYPE.DEPOSIT:\r\n        return this._fs._fb.group({\r\n          ...deposit.initForm().controls,\r\n          donationMode: [3, this._vs._vals('Donation Mode')],\r\n        });\r\n      case RECEIPT_TYPE.MATERIAL:\r\n        return this._fs._fb.group({\r\n          ...material.initForm().controls,\r\n          donationMode: [4, this._vs._vals('Donation Mode')],\r\n        });\r\n    }\r\n  }\r\n  // 2 Receipt Detail (Adding New)\r\n  addReceiptDetail(trans: RECEIPT_TYPE) {\r\n    const custom = this._fs._form.get('receipt_details') as FormArray\r\n    const recieptDetial = this.receiptDetail(trans);\r\n    custom.push(recieptDetial);\r\n  }\r\n  // 4 Receipt Detail (Updating Data)\r\n  patchReceiptDetail(receiptDetails: any, trans: RECEIPT_TYPE, not_copy = true) {\r\n    const formArray = this._fs._form.get('receipt_details') as FormArray;\r\n    if (not_copy && receiptDetails.length > 0) formArray.clear();\r\n    receiptDetails.forEach((d) => {\r\n      let group: FormGroup = this._fs._fb.group({});\r\n      if (trans === RECEIPT_TYPE.CASH || trans === RECEIPT_TYPE.CHEQUE) {\r\n        if (d.donationMode == 1) {\r\n          const x = new TransactionCashForm(this.injector);\r\n          group = x.initForm(d);\r\n        } else if (d.donationMode == 2) {\r\n          const x = new TransactionChequeForm(this.injector);\r\n          group = x.initForm(d);\r\n        }\r\n      } else if (trans === RECEIPT_TYPE.DEPOSIT) {\r\n        const x = new TransactionDepositForm(this.injector);\r\n        d.donationMode = 3\r\n        group = x.initForm(d);\r\n      } else if (trans === RECEIPT_TYPE.MATERIAL) {\r\n        const x = new TransactionMaterialForm(this.injector);\r\n        d.donationMode = 4\r\n        group = x.initForm(d);\r\n      }\r\n      if (d.donationMode == 1 || d.donationMode == 2) {\r\n        group.addControl(\r\n          'donationMode', new FormControl(\r\n            d.donationMode,\r\n            this._vs._vals('Donation Mode'),\r\n        ))\r\n      }\r\n      formArray.push(group)\r\n    });\r\n  }\r\n}\r\n// Interface Segregation Principle\r\n\r\nexport interface Transaction {\r\n  id?: string;\r\n  currency_id?: string;\r\n  is_advance?: number; // Donor / GSB Donor\r\n  receipt_type?: string | any; // cash 1 / deposit 3 / material 4\r\n  event_id: string; // Madani Basta\r\n  event?: SelectOption;\r\n  currency?: SelectOption;\r\n  receipt_number?: string;\r\n  hierarchy?: Hierarchy;\r\n  donor?: DonorInfo;\r\n  additional_info?: TransDonorAddInfo;\r\n  gsb: DonorGSB;\r\n  // #SOLID 4 Interface Segregation\r\n  receipt_details?: Cash[] | Cheque[] | Deposit[] | Material[];\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { HierarchyOnly } from 'src/app/interface/common/hierarchy';\r\nimport { ValidatorService } from 'src/app/service/base.validator.service';\r\nimport { FormService } from 'src/app/service/form.service';\r\n\r\n@Injectable()\r\nexport class HierarchyForm {\r\n  _fs: FormService\r\n  _vs: ValidatorService\r\n  constructor(public injector: Injector) {\r\n    this._fs = injector.get(FormService)\r\n    this._vs = injector.get(ValidatorService)\r\n  }\r\n  initForm(d: Hierarchy = {}): FormGroup {\r\n    return this._fs._fb.group({\r\n      organisation_id: [\r\n        d.organisation_id,\r\n        this._vs._vals('Organization')\r\n      ],\r\n      system_id: [\r\n        d.system_id, this._vs._vals('System')\r\n      ],\r\n      bg: [\r\n        d.bg,\r\n        this._vs._vals('Business Group')\r\n      ],\r\n      le: [\r\n        d.le,\r\n        this._vs._vals('Legal Entity')\r\n      ],\r\n      ou: [\r\n        d.ou,\r\n        this._vs._vals('Operating Unit')\r\n      ],\r\n      su: [\r\n        d.su, this._vs._vals('Sub Unit')\r\n      ],\r\n      // dco: [\r\n      //   d.dco, this._vs._vals('Donation Cell Office')\r\n      // ],\r\n    });\r\n  }\r\n}\r\n// Interface Segregation Principle\r\nexport interface Hierarchy extends HierarchyOnly {\r\n}\r\n\r\n","/* eslint-disable @typescript-eslint/no-empty-function */\r\nimport { Injectable, Injector, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { SelectOption } from 'src/app/interface/common/select';\r\nimport { ValidatorService } from 'src/app/service/base.validator.service';\r\nimport { FormService } from 'src/app/service/form.service';\r\nimport { Cash, TransactionCashForm } from './cash.form';\r\n\r\n@Injectable()\r\nexport class TransactionMaterialForm {\r\n  _fs: FormService\r\n  _vs: ValidatorService\r\n  constructor(\r\n    protected injector: Injector,\r\n  ) {\r\n    this._fs = injector.get(FormService)\r\n    this._vs = injector.get(ValidatorService)\r\n  }\r\n  initForm(d: Material = {}): FormGroup {\r\n    const transactionCashForm = new TransactionCashForm(this.injector);\r\n    return this._fs._fb.group({\r\n      ...transactionCashForm.initForm(d).controls,\r\n      material_item_id: [\r\n        d.material_item_id,\r\n        this._vs._vals('Material Item')\r\n      ],\r\n      weight: [\r\n        d.weight,\r\n        this._vs._val('Weight', { isField: 0 })\r\n      ],\r\n      unit_id: [\r\n        d.unit_id,\r\n        this._vs._vals('Unit')\r\n      ],\r\n      description: [\r\n        d.description,\r\n        this._vs._val('Description', { maxChar: 255, alphaNum: 1 })\r\n      ],\r\n      material_item: [{value: d.material_item, disabled: true} ],\r\n      unit: [{value: d.unit, disabled: true}],\r\n    });\r\n  }\r\n}\r\n// Interface Segregation Principle\r\n\r\nexport interface Material extends Cash {\r\n  material_item_id?: string;\r\n  weight?: string;\r\n  unit_id?: number;\r\n  description?: string;\r\n  material_item?: SelectOption;\r\n  unit?: SelectOption;\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}